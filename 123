import org.junit.jupiter.api.Test;
import org.mockito.Mockito;

// If using SLF4J logging
import org.slf4j.Logger;
import org.slf4j.LoggerFactory;

public class RetryDbOperationTest {

    @Test
    void testInterruptedExceptionDuringSleep() {
        // Arrange
        MyClass obj = Mockito.spy(new MyClass()); // Replace MyClass with actual class

        // Prepare a runnable that throws PersistenceException on first attempt
        Runnable failingRunnable = () -> { throw new PersistenceException("DB fail"); };

        // Interrupt the current thread BEFORE calling method to force InterruptedException in sleep
        Thread.currentThread().interrupt();

        // Act
        obj.retryDboperation(failingRunnable);

        // Assert - Clear interrupt status so other tests aren't affected
        Thread.interrupted(); // This resets the flag
    }
}