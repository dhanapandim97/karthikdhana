@Test
public void testGetCpQuoteHttpStatusNotNullBranch() throws Exception {
    // Arrange: request with single applicant
    AddCreditProtectionQuotationV2RsQuotation quotation = new AddCreditProtectionQuotationV2RsQuotation();
    quotation.addApplicantItem(new AddCreditProtectionQuotationV2RsQuotationApplicantInner());
    apiQuoteReq.setQuotation(quotation);

    AddCreditProtectionQuotationWarningV2Rs responseMock = new AddCreditProtectionQuotationWarningV2Rs();
    ResponseEntity<AddCreditProtectionQuotationWarningV2Rs> serviceResponse =
            new ResponseEntity<>(responseMock, HttpStatus.CREATED); // explicit

    when(cpFac.getCreditProtectionQuotation(any(), any())).thenReturn(serviceResponse);

    // Act
    ResponseEntity<AddCreditProtectionQuotationWarningV2Rs> response =
            controller.getCpQuote("en", "Bearer token", apiQuoteReq);

    // Assert
    assertThat(response).isNotNull();
    assertThat(response.getBody()).isNotNull();
    assertThat(response.getStatusCode()).isEqualTo(HttpStatus.CREATED); // branch HttpStatus != null
}

@Test
public void testGetCpQuoteHttpStatusDefaultBranch() throws Exception {
    // Arrange: request with single applicant
    AddCreditProtectionQuotationV2RsQuotation quotation = new AddCreditProtectionQuotationV2RsQuotation();
    quotation.addApplicantItem(new AddCreditProtectionQuotationV2RsQuotationApplicantInner());
    apiQuoteReq.setQuotation(quotation);

    AddCreditProtectionQuotationWarningV2Rs responseMock = new AddCreditProtectionQuotationWarningV2Rs();

    // Construct with body only â†’ defaults to 200 OK
    ResponseEntity<AddCreditProtectionQuotationWarningV2Rs> serviceResponse =
            ResponseEntity.ok(responseMock);

    when(cpFac.getCreditProtectionQuotation(any(), any())).thenReturn(serviceResponse);

    // Act
    ResponseEntity<AddCreditProtectionQuotationWarningV2Rs> response =
            controller.getCpQuote("en", "Bearer token", apiQuoteReq);

    // Assert
    assertThat(response).isNotNull();
    assertThat(response.getBody()).isNotNull();
    assertThat(response.getStatusCode()).isEqualTo(HttpStatus.OK); // branch default HttpStatus
}