import com.ctc.wstx.sw.DelegatingXMLStreamWriter;

import javax.xml.stream.XMLStreamException;
import javax.xml.stream.XMLStreamWriter;

public class CustomXMLStreamWriter extends DelegatingXMLStreamWriter {

    public CustomXMLStreamWriter(XMLStreamWriter parent) {
        super(parent);
    }

    @Override
    public void writeEmptyElement(String localName) throws XMLStreamException {
        super.writeStartElement(localName);
        super.writeEndElement();
    }

    @Override
    public void writeEmptyElement(String namespaceURI, String localName) throws XMLStreamException {
        super.writeStartElement(namespaceURI, localName);
        super.writeEndElement();
    }

    @Override
    public void writeEmptyElement(String prefix, String localName, String namespaceURI) throws XMLStreamException {
        super.writeStartElement(prefix, localName, namespaceURI);
        super.writeEndElement();
    }

    @Override
    public void writeStartDocument(String encoding, String version) throws XMLStreamException {
        // force double quotes
        super.writeProcessingInstruction("xml", "version=\"" + version + "\" encoding=\"" + encoding + "\"");
    }
}