@Test
void testEnglishBranch_FrAfterEn_LowercaseFlags() {
    PropertiesFileReader reader = createReaderWith("R1", "Reason[en]Hello[fr]Bonjour");
    String result = reader.getKeyValueItem("R1", ErrorDisplayLanguage.ENGLISH);
    // Should take substring between [en] and [fr]
    assertEquals("R1:Hello", result);
}

@Test
void testFinalReturn_DefaultBranch() {
    PropertiesFileReader reader = createReaderWith("R2", "SomeValue");

    // Mock an enum so it's not ENGLISH or FRENCH
    ErrorDisplayLanguage fakeLang = mock(ErrorDisplayLanguage.class);
    when(fakeLang.getLangStr()).thenReturn("xx");

    String result = reader.getKeyValueItem("R2", fakeLang);
    assertEquals("R2:SomeValue", result);
}