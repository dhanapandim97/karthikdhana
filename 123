@Test
void testCustomerPartySearch_nullEntityResponse() throws Exception {
    // Arrange
    SearchPartyLookupBusinessAggregationRequestPayload request = createRequest(1);

    when(apiExecutor.isStatusResponse(any())).thenReturn(false);

    // Stub makeGETRequest
    when(apiExecutor.makeGETRequest(
            contains("customerUrl"),
            ArgumentMatchers.<ResponseHandler<String>>any())
    ).thenAnswer(invocation -> {
        ResponseHandler<String> handler = invocation.getArgument(1);

        HttpResponse httpResponse = mock(HttpResponse.class);
        StatusLine statusLine = mock(StatusLine.class);
        HttpEntity httpEntity = mock(HttpEntity.class);

        when(statusLine.getStatusCode()).thenReturn(200);
        when(httpResponse.getStatusLine()).thenReturn(statusLine);
        when(httpResponse.getEntity()).thenReturn(httpEntity);

        // ðŸ‘‡ Force EntityUtils.toString(entity) to return null
        try (MockedStatic<EntityUtils> entityUtilsMock = Mockito.mockStatic(EntityUtils.class)) {
            entityUtilsMock.when(() -> EntityUtils.toString(httpEntity)).thenReturn(null);

            // Act & Assert
            assertThrows(PartyLookupException.class,
                    () -> service.searchPartyLookupBusinessAggregationOperation(request));
        }
        return null;
    });
}